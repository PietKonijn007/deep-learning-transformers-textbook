<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Interactive textbook on Deep Learning and Transformers with mathematical rigor and practical implementation">
    <title>Deep Learning and Transformers - Interactive Textbook</title>
    
    <!-- Preconnect to CDN for faster loading -->
    <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
    <link rel="dns-prefetch" href="https://cdn.jsdelivr.net">
    
    <link rel="stylesheet" href="styles.css">
    
    <!-- MathJax Configuration -->
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
                processEscapes: true,
                processEnvironments: true,
                tags: 'ams',
                packages: {'[+]': ['ams', 'newcommand', 'configmacros']},
                macros: {
                    R: '{\\mathbb{R}}',
                    N: '{\\mathbb{N}}',
                    Z: '{\\mathbb{Z}}',
                    C: '{\\mathbb{C}}',
                    vx: '{\\mathbf{x}}',
                    vy: '{\\mathbf{y}}',
                    vz: '{\\mathbf{z}}',
                    vh: '{\\mathbf{h}}',
                    vw: '{\\mathbf{w}}',
                    vb: '{\\mathbf{b}}',
                    vq: '{\\mathbf{q}}',
                    vk: '{\\mathbf{k}}',
                    vv: '{\\mathbf{v}}',
                    mA: '{\\mathbf{A}}',
                    mB: '{\\mathbf{B}}',
                    mC: '{\\mathbf{C}}',
                    mW: '{\\mathbf{W}}',
                    mX: '{\\mathbf{X}}',
                    mY: '{\\mathbf{Y}}',
                    mQ: '{\\mathbf{Q}}',
                    mK: '{\\mathbf{K}}',
                    mV: '{\\mathbf{V}}',
                    mH: '{\\mathbf{H}}',
                    mI: '{\\mathbf{I}}',
                    mU: '{\\mathbf{U}}',
                    mM: '{\\mathbf{M}}',
                    transpose: '{^\\top}',
                    norm: ['\\left\\|#1\\right\\|', 1],
                    abs: ['\\left|#1\\right|', 1]
                }
            },
            svg: {
                fontCache: 'global'
            },
            startup: {
                pageReady: () => {
                    console.log('MathJax loaded and ready');
                    return MathJax.startup.defaultPageReady();
                }
            }
        };
    </script>
    <!-- Load MathJax only when needed, not on initial page load -->
    <script>
        // Defer MathJax loading until after page is interactive
        window.addEventListener('load', function() {
            setTimeout(function() {
                var script = document.createElement('script');
                script.src = 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
                script.async = true;
                document.head.appendChild(script);
            }, 100);
        });
    </script>
</head>
<body>
    <!-- Loading indicator -->
    <div id="loading-bar" class="loading-bar"></div>
    
    <div id="app">
        <!-- Sidebar Navigation -->
        <aside id="sidebar" class="sidebar">
            <div class="sidebar-header">
                <h1>Deep Learning & Transformers</h1>
                <button id="sidebar-toggle" class="sidebar-toggle" aria-label="Toggle sidebar">‚ò∞</button>
            </div>
            <div class="toolbar">
                <div class="search-box">
                    <input type="text" id="search" placeholder="Search chapters..." />
                </div>
                <button id="theme-toggle" class="theme-toggle" aria-label="Toggle dark mode" title="Toggle dark mode">üåô</button>
            </div>
            <nav id="chapter-list" class="chapter-list">
                <div class="loading">Loading chapters...</div>
            </nav>
            <div class="sidebar-footer">
                <small>Use ‚Üê ‚Üí keys to navigate</small>
            </div>
        </aside>

        <!-- Main Content Area -->
        <main id="main-content" class="main-content">
            <!-- Table of Contents Button -->
            <button id="toc-toggle" class="toc-toggle" title="Table of Contents">üìë</button>
            
            <div class="content-wrapper">
                <div id="chapter-content">
                    <div class="welcome">
                        <h1>Welcome to Deep Learning and Transformers</h1>
                        <p class="subtitle">Theory, Mathematics, and Implementation</p>
                        <p>Select a chapter from the sidebar to begin reading.</p>
                        
                        <div class="features">
                            <div class="feature">
                                <h3>üìê Mathematical Rigor</h3>
                                <p>Complete derivations with geometric intuition</p>
                            </div>
                            <div class="feature">
                                <h3>üíª Practical Focus</h3>
                                <p>Theory grounded in implementation details</p>
                            </div>
                            <div class="feature">
                                <h3>üöÄ Progressive Learning</h3>
                                <p>Systematic knowledge building from foundations</p>
                            </div>
                            <div class="feature">
                                <h3>‚ö° Fast & Responsive</h3>
                                <p>Optimized for quick loading and smooth navigation</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Chapter TOC Overlay -->
            <div id="chapter-toc" class="chapter-toc hidden">
                <div class="toc-header">
                    <h3>In This Chapter</h3>
                    <button id="toc-close" class="toc-close">‚úï</button>
                </div>
                <div id="toc-content" class="toc-content"></div>
            </div>
            
            <!-- Navigation Controls -->
            <div class="nav-controls">
                <button id="prev-chapter" class="nav-btn" disabled>‚Üê Previous</button>
                <button id="next-chapter" class="nav-btn" disabled>Next ‚Üí</button>
            </div>
        </main>
    </div>

    <script src="app.js"></script>
</body>
</html>
