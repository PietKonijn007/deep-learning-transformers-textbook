\documentclass[11pt,oneside,a4paper]{book}

% Essential packages only
\usepackage{amsmath, amssymb, amsthm}
\usepackage{graphicx}
\usepackage[a4paper,margin=0.75in]{geometry}
\usepackage{hyperref}
\hypersetup{
    colorlinks=true,
    linkcolor=black,
    citecolor=blue,
    urlcolor=blue,
    hidelinks
}
\usepackage{xcolor}
\usepackage[framemethod=tikz]{mdframed}
\usepackage{listings}

% Algorithm package with proper styling
\usepackage[ruled,linesnumbered,vlined]{algorithm2e}
\usepackage{algorithmic}  % For algorithmic environment used in some chapters
\SetAlgoLined
\SetKwInOut{Input}{Input}
\SetKwInOut{Output}{Output}
\SetAlCapSty{textbf}
\SetAlCapFnt{\normalsize}
\SetAlgoVlined
\SetNlSty{textbf}{}{}
\SetNlSkip{1em}
\DontPrintSemicolon

% Style algorithm boxes to match HTML
\SetAlgoSkip{bigskip}
\SetInd{0.5em}{1em}
\SetAlgoInsideSkip{medskip}

% Custom algorithm box styling
\makeatletter
\renewcommand{\@algocf@capt@ruled}{above}
\renewcommand{\algocf@caption@ruled}{\box\algocf@capbox\vskip\AlCapSkip}
\makeatother

% Define algorithm frame color
\definecolor{algframe}{RGB}{44,62,80}
\definecolor{algbg}{RGB}{248,249,250}

% Define colors matching the web version
\definecolor{defgreen}{RGB}{76,175,80}
\definecolor{defgreenlight}{RGB}{76,175,80}
\definecolor{thmblue}{RGB}{33,150,243}
\definecolor{thmbluelight}{RGB}{33,150,243}
\definecolor{exorange}{RGB}{255,152,0}
\definecolor{exorangelight}{RGB}{255,152,0}
\definecolor{keypurple}{RGB}{156,39,176}
\definecolor{keypurplelight}{RGB}{156,39,176}
\definecolor{codebg}{RGB}{245,245,245}
\definecolor{codeframe}{RGB}{200,200,200}

% Configure listings for code blocks
\lstset{
    basicstyle=\ttfamily\small,
    backgroundcolor=\color{codebg},
    frame=single,
    framerule=0pt,
    rulecolor=\color{codeframe},
    numbers=none,
    breaklines=true,
    breakatwhitespace=true,
    tabsize=4,
    showstringspaces=false,
    captionpos=b,
    xleftmargin=10pt,
    xrightmargin=10pt,
    framexleftmargin=10pt,
    framexrightmargin=10pt,
    framextopmargin=6pt,
    framexbottommargin=6pt,
    columns=flexible,
    keepspaces=true
}

% Python-specific settings
\lstdefinestyle{python}{
    language=Python,
    keywordstyle=\color{blue}\bfseries,
    commentstyle=\color{gray}\itshape,
    stringstyle=\color{red},
    showstringspaces=false,
    morekeywords={self, True, False, None}
}

% Theorem environments
\theoremstyle{definition}
\newtheorem{definitioninner}{Definition}[chapter]
\newtheorem{exampleinner}{Example}[chapter]

\theoremstyle{plain}
\newtheorem{theoreminner}{Theorem}[chapter]
\newtheorem{lemmainner}{Lemma}[chapter]
\newtheorem{corollaryinner}{Corollary}[chapter]
\newtheorem{propositioninner}{Proposition}[chapter]
\newtheorem{keypointinner}{Key Point}[chapter]

% Styled environments with colored boxes
\newenvironment{definition}[1][]{%
    \begin{mdframed}[
        backgroundcolor=defgreenlight!10,
        linecolor=defgreen,
        linewidth=4pt,
        topline=false,
        rightline=false,
        bottomline=false,
        innerleftmargin=10pt,
        innerrightmargin=10pt,
        innertopmargin=10pt,
        innerbottommargin=10pt,
        skipabove=10pt,
        skipbelow=10pt
    ]
    \begin{definitioninner}[#1]
}{%
    \end{definitioninner}
    \end{mdframed}
}

\newenvironment{theorem}[1][]{%
    \begin{mdframed}[
        backgroundcolor=thmbluelight!10,
        linecolor=thmblue,
        linewidth=4pt,
        topline=false,
        rightline=false,
        bottomline=false,
        innerleftmargin=10pt,
        innerrightmargin=10pt,
        innertopmargin=10pt,
        innerbottommargin=10pt,
        skipabove=10pt,
        skipbelow=10pt
    ]
    \begin{theoreminner}[#1]
}{%
    \end{theoreminner}
    \end{mdframed}
}

\newenvironment{lemma}[1][]{%
    \begin{mdframed}[
        backgroundcolor=thmbluelight!10,
        linecolor=thmblue,
        linewidth=4pt,
        topline=false,
        rightline=false,
        bottomline=false,
        innerleftmargin=10pt,
        innerrightmargin=10pt,
        innertopmargin=10pt,
        innerbottommargin=10pt,
        skipabove=10pt,
        skipbelow=10pt
    ]
    \begin{lemmainner}[#1]
}{%
    \end{lemmainner}
    \end{mdframed}
}

\newenvironment{corollary}[1][]{%
    \begin{mdframed}[
        backgroundcolor=thmbluelight!10,
        linecolor=thmblue,
        linewidth=4pt,
        topline=false,
        rightline=false,
        bottomline=false,
        innerleftmargin=10pt,
        innerrightmargin=10pt,
        innertopmargin=10pt,
        innerbottommargin=10pt,
        skipabove=10pt,
        skipbelow=10pt
    ]
    \begin{corollaryinner}[#1]
}{%
    \end{corollaryinner}
    \end{mdframed}
}

\newenvironment{proposition}[1][]{%
    \begin{mdframed}[
        backgroundcolor=thmbluelight!10,
        linecolor=thmblue,
        linewidth=4pt,
        topline=false,
        rightline=false,
        bottomline=false,
        innerleftmargin=10pt,
        innerrightmargin=10pt,
        innertopmargin=10pt,
        innerbottommargin=10pt,
        skipabove=10pt,
        skipbelow=10pt
    ]
    \begin{propositioninner}[#1]
}{%
    \end{propositioninner}
    \end{mdframed}
}

\newenvironment{example}[1][]{%
    \begin{mdframed}[
        backgroundcolor=exorangelight!10,
        linecolor=exorange,
        linewidth=4pt,
        topline=false,
        rightline=false,
        bottomline=false,
        innerleftmargin=10pt,
        innerrightmargin=10pt,
        innertopmargin=10pt,
        innerbottommargin=10pt,
        skipabove=10pt,
        skipbelow=10pt
    ]
    \begin{exampleinner}[#1]
}{%
    \end{exampleinner}
    \end{mdframed}
}

\newenvironment{keypoint}[1][]{%
    \begin{mdframed}[
        backgroundcolor=keypurplelight!10,
        linecolor=keypurple,
        linewidth=4pt,
        topline=false,
        rightline=false,
        bottomline=false,
        innerleftmargin=10pt,
        innerrightmargin=10pt,
        innertopmargin=10pt,
        innerbottommargin=10pt,
        skipabove=10pt,
        skipbelow=10pt
    ]
    \begin{keypointinner}[#1]
}{%
    \end{keypointinner}
    \end{mdframed}
}

% Implementation environment for code blocks
\newenvironment{implementation}{%
    \par\vspace{10pt}
    \noindent\textbf{Implementation:}
    \par\vspace{5pt}
}{%
    \par\vspace{10pt}
}

% Exercise environment with light gray box
\theoremstyle{definition}
\newtheorem{exerciseinner}{Exercise}[chapter]

\newenvironment{exercise}[1][]{%
    \begin{mdframed}[
        backgroundcolor=white,
        linecolor=black!30,
        linewidth=1pt,
        topline=true,
        rightline=true,
        bottomline=true,
        leftline=true,
        innerleftmargin=10pt,
        innerrightmargin=10pt,
        innertopmargin=10pt,
        innerbottommargin=10pt,
        skipabove=10pt,
        skipbelow=10pt
    ]
    \begin{exerciseinner}[#1]
}{%
    \end{exerciseinner}
    \end{mdframed}
}

% Solution environment with light gray frame
\newenvironment{solution}[1][]{%
    \begin{mdframed}[
        backgroundcolor=black!5,
        linecolor=black!30,
        linewidth=2pt,
        topline=true,
        rightline=true,
        bottomline=true,
        leftline=true,
        innerleftmargin=10pt,
        innerrightmargin=10pt,
        innertopmargin=10pt,
        innerbottommargin=10pt,
        skipabove=10pt,
        skipbelow=10pt
    ]
    \noindent\textbf{Solution #1:}
    \par\vspace{5pt}
}{%
    \end{mdframed}
}

% Exclude solutions from PDF â€” they remain in .tex source for the HTML converter.
% To re-include solutions in a future PDF, comment out the next two lines.
\usepackage{comment}
\excludecomment{solution}

% Mermaid diagram environment
% In PDF: renders as a styled code listing inside a blue-bordered box
% In HTML: convert_to_html.py extracts the code and renders via Mermaid.js client-side
\definecolor{mermaidbg}{RGB}{240,245,255}
\definecolor{mermaidframe}{RGB}{33,150,243}
\lstnewenvironment{mermaid}[1][]{%
    \lstset{
        basicstyle=\ttfamily\scriptsize,
        backgroundcolor=\color{mermaidbg},
        frame=single,
        framerule=1.5pt,
        rulecolor=\color{mermaidframe},
        title={\small\bfseries\color{mermaidframe} Architecture Diagram\ifx&#1& \else: #1\fi},
        breaklines=true,
        columns=flexible,
        keepspaces=true,
        xleftmargin=10pt,
        xrightmargin=10pt,
        framexleftmargin=10pt,
        framexrightmargin=10pt,
        framextopmargin=6pt,
        framexbottommargin=6pt,
        aboveskip=15pt,
        belowskip=15pt,
    }%
}{}

% Custom commands
\newcommand{\R}{\mathbb{R}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\C}{\mathbb{C}}

% Vector commands (all letters)
\newcommand{\va}{\mathbf{a}}
\newcommand{\vb}{\mathbf{b}}
\newcommand{\vc}{\mathbf{c}}
\newcommand{\vd}{\mathbf{d}}
\newcommand{\ve}{\mathbf{e}}
\newcommand{\vf}{\mathbf{f}}
\newcommand{\vg}{\mathbf{g}}
\newcommand{\vh}{\mathbf{h}}
\newcommand{\vi}{\mathbf{i}}
\newcommand{\vj}{\mathbf{j}}
\newcommand{\vk}{\mathbf{k}}
\newcommand{\vl}{\mathbf{l}}
\newcommand{\vm}{\mathbf{m}}
\newcommand{\vn}{\mathbf{n}}
\newcommand{\vo}{\mathbf{o}}
\newcommand{\vp}{\mathbf{p}}
\newcommand{\vq}{\mathbf{q}}
\newcommand{\vr}{\mathbf{r}}
\newcommand{\vs}{\mathbf{s}}
\newcommand{\vt}{\mathbf{t}}
\newcommand{\vu}{\mathbf{u}}
\newcommand{\vv}{\mathbf{v}}
\newcommand{\vw}{\mathbf{w}}
\newcommand{\vx}{\mathbf{x}}
\newcommand{\vy}{\mathbf{y}}
\newcommand{\vz}{\mathbf{z}}

% Matrix commands (all letters)
\newcommand{\mA}{\mathbf{A}}
\newcommand{\mB}{\mathbf{B}}
\newcommand{\mC}{\mathbf{C}}
\newcommand{\mD}{\mathbf{D}}
\newcommand{\mE}{\mathbf{E}}
\newcommand{\mF}{\mathbf{F}}
\newcommand{\mG}{\mathbf{G}}
\newcommand{\mH}{\mathbf{H}}
\newcommand{\mI}{\mathbf{I}}
\newcommand{\mJ}{\mathbf{J}}
\newcommand{\mK}{\mathbf{K}}
\newcommand{\mL}{\mathbf{L}}
\newcommand{\mM}{\mathbf{M}}
\newcommand{\mN}{\mathbf{N}}
\newcommand{\mO}{\mathbf{O}}
\newcommand{\mP}{\mathbf{P}}
\newcommand{\mQ}{\mathbf{Q}}
\newcommand{\mR}{\mathbf{R}}
\newcommand{\mS}{\mathbf{S}}
\newcommand{\mT}{\mathbf{T}}
\newcommand{\mU}{\mathbf{U}}
\newcommand{\mV}{\mathbf{V}}
\newcommand{\mW}{\mathbf{W}}
\newcommand{\mX}{\mathbf{X}}
\newcommand{\mY}{\mathbf{Y}}
\newcommand{\mZ}{\mathbf{Z}}

% Other math commands
\newcommand{\transpose}{^\top}
\newcommand{\norm}[1]{\left\|#1\right\|}
\newcommand{\abs}[1]{\left|#1\right|}

\title{Deep Learning and Transformers:\\Theory, Mathematics, and Implementation}
\author{[Author Names]}
\date{2026}

\begin{document}

\frontmatter
\maketitle
\tableofcontents

\mainmatter

\part{Mathematical Foundations}
\include{chapters/chapter01_linear_algebra}
\include{chapters/chapter02_calculus_optimization}
\include{chapters/chapter03_probability_information}

\part{Neural Network Fundamentals}
\include{chapters/chapter04_feedforward_networks}
\include{chapters/chapter05_convolutional_networks}
\include{chapters/chapter06_recurrent_networks}

\part{Attention Mechanisms}
\include{chapters/chapter07_attention_fundamentals}
\include{chapters/chapter08_self_attention}
\include{chapters/chapter09_attention_variants}

\part{Transformer Architecture}
\include{chapters/chapter10_transformer_model}
\include{chapters/chapter11_training_transformers}
\include{chapters/chapter12_computational_analysis}

\part{Modern Transformer Variants}
\include{chapters/chapter13_bert}
\include{chapters/chapter14_gpt}
\include{chapters/chapter15_t5_bart}
\include{chapters/chapter16_efficient_transformers}

\part{Advanced Topics}
\include{chapters/chapter17_vision_transformers}
\include{chapters/chapter18_multimodal_transformers}
\include{chapters/chapter19_long_context}
\include{chapters/chapter20_pretraining_strategies}

\part{Practical Implementation}
\include{chapters/chapter21_pytorch_implementation}
\include{chapters/chapter22_hardware_optimization}
\include{chapters/chapter23_best_practices}

\part{Domain-Specific Applications}
\include{chapters/chapter24_domain_specific_models}
\include{chapters/chapter25_enterprise_nlp}
\include{chapters/chapter26_code_language}
\include{chapters/chapter27_video_visual}
\include{chapters/chapter28_knowledge_graphs}
\include{chapters/chapter29_recommendations}
\include{chapters/chapter30_healthcare}
\include{chapters/chapter31_finance}
\include{chapters/chapter32_legal}
\include{chapters/chapter33_observability}
\include{chapters/chapter34_dsl_agents}

% Solutions are now included at the end of each chapter
% \appendix
% \include{chapters/chapter24_solutions}

\end{document}
