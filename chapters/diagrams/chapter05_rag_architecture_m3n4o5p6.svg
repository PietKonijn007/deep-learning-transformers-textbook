<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 700">
  <defs>
    <style>
      .title { font: bold 20px sans-serif; fill: #2d3748; }
      .subtitle { font: bold 16px sans-serif; fill: #2d3748; }
      .label { font: 14px sans-serif; fill: #2d3748; }
      .annotation { font: 13px sans-serif; fill: #718096; }
      .box { fill: #667eea; stroke: #4c51bf; stroke-width: 2; }
      .box-db { fill: #ed8936; stroke: #dd6b20; stroke-width: 2; }
      .box-llm { fill: #764ba2; stroke: #553c9a; stroke-width: 2; }
    </style>
  </defs>
  
  <text x="600" y="30" class="title" text-anchor="middle">Retrieval-Augmented Generation Architecture</text>
  
  <!-- Step 1: Query -->
  <rect x="50" y="100" width="180" height="80" class="box" rx="5"/>
  <text x="140" y="130" class="subtitle" text-anchor="middle">1. User Query</text>
  <text x="140" y="155" class="annotation" text-anchor="middle">Question or prompt</text>
  
  <!-- Step 2: Vector DB -->
  <rect x="300" y="100" width="200" height="80" class="box-db" rx="5"/>
  <text x="400" y="130" class="subtitle" text-anchor="middle">2. Vector Database</text>
  <text x="400" y="155" class="annotation" text-anchor="middle">Retrieve relevant docs</text>
  
  <!-- Step 3: Retrieved Docs -->
  <rect x="570" y="100" width="200" height="80" class="box" rx="5"/>
  <text x="670" y="130" class="subtitle" text-anchor="middle">3. Retrieved Docs</text>
  <text x="670" y="155" class="annotation" text-anchor="middle">Top-k documents</text>
  
  <!-- Step 4: LLM -->
  <rect x="840" y="100" width="200" height="80" class="box-llm" rx="5"/>
  <text x="940" y="130" class="subtitle" text-anchor="middle">4. LLM Generation</text>
  <text x="940" y="155" class="annotation" text-anchor="middle">Query + Context</text>
  
  <!-- Step 5: Response -->
  <rect x="475" y="250" width="250" height="80" class="box" rx="5"/>
  <text x="600" y="280" class="subtitle" text-anchor="middle">5. Response</text>
  <text x="600" y="305" class="annotation" text-anchor="middle">Answer with citations</text>
  
  <!-- Benefits -->
  <rect x="50" y="400" width="500" height="250" fill="#f0fff4" stroke="#48bb78" stroke-width="2" rx="5"/>
  <text x="300" y="435" class="subtitle" text-anchor="middle">Benefits</text>
  <text x="80" y="470" class="annotation">Access to current and external knowledge</text>
  <text x="80" y="500" class="annotation">Reduced hallucination (grounded in sources)</text>
  <text x="80" y="530" class="annotation">Source attribution and citations</text>
  <text x="80" y="560" class="annotation">No model retraining required</text>
  <text x="80" y="590" class="annotation">Update knowledge by updating database</text>
  <text x="80" y="620" class="annotation">Enables smaller LLMs with external knowledge</text>
  
  <!-- Cost Considerations -->
  <rect x="600" y="400" width="550" height="250" fill="#fef5e7" stroke="#f39c12" stroke-width="2" rx="5"/>
  <text x="875" y="435" class="subtitle" text-anchor="middle">Cost Considerations</text>
  <text x="630" y="470" class="annotation">Retrieval latency: +20-50ms per query</text>
  <text x="630" y="500" class="annotation">Vector DB costs: $0.0001-0.001 per query</text>
  <text x="630" y="530" class="annotation">Embedding computation for queries</text>
  <text x="630" y="560" class="annotation">Storage costs for vector database</text>
  <text x="630" y="590" class="annotation">Net cost often neutral vs larger models</text>
  <text x="630" y="620" class="annotation">Enables use of smaller, cheaper LLMs</text>
</svg>
